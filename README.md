# ä½¿ç”¨ Quick & Nimble åœ¨ Swift ä¸­è¿›è¡Œ BDD æµ‹è¯•ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ Swift ç¤ºä¾‹é¡¹ç›®ï¼Œæ—¨åœ¨æ¼”ç¤ºå¦‚ä½•åœ¨ iOS/macOS å¼€å‘ä¸­å®è·µ**è¡Œä¸ºé©±åŠ¨å¼€å‘ (Behavior-Driven Development, BDD)**ã€‚

é¡¹ç›®æ ¸å¿ƒæ˜¯æµ‹è¯•ä¸€ä¸ªåŸºç¡€çš„ `ShoppingCart` æ¨¡å‹ï¼Œé€šè¿‡ BDD çš„æ–¹å¼æ¥æè¿°å’ŒéªŒè¯å…¶å„ç§è¡Œä¸ºï¼Œä¾‹å¦‚æ·»åŠ å•†å“ã€ç§»é™¤å•†å“ã€æ¸…ç©ºè´­ç‰©è½¦ç­‰ã€‚

## æ ¸å¿ƒç†å¿µ

æœ¬é¡¹ç›®ç€é‡å±•ç¤ºï¼š

*   **BDD çš„æ€æƒ³**: å°†æµ‹è¯•ç”¨ä¾‹å†™æˆæ˜“äºç†è§£çš„ã€æè¿°è¡Œä¸ºçš„â€œè§„æ ¼è¯´æ˜ä¹¦â€ã€‚
*   **ä½¿ç”¨ Quick**: ä¸€ä¸ª RSpec é£æ ¼çš„ BDD æ¡†æ¶ï¼Œå®ƒæä¾›äº† `describe`, `context`, `it` ç­‰ DSLï¼Œè®©æµ‹è¯•ç»“æ„æ¸…æ™°ã€å¯è¯»æ€§å¼ºã€‚
*   **ä½¿ç”¨ Nimble**: ä¸€ä¸ªè¡¨ç°åŠ›ä¸°å¯Œçš„æ–­è¨€åº“ï¼Œå®ƒè®© `expect(value).to(equal(10))` è¿™æ ·çš„æ–­è¨€è¯­å¥è¯»èµ·æ¥æ›´åƒè‡ªç„¶è¯­è¨€ã€‚
*   **å•å…ƒæµ‹è¯•**: é’ˆå¯¹ `ShoppingCart` è¿™ä¸ªç‹¬ç«‹çš„ä¸šåŠ¡é€»è¾‘å•å…ƒè¿›è¡Œå®Œæ•´çš„åŠŸèƒ½è¦†ç›–ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

*   **Swift**: é¡¹ç›®çš„ä¸»è¦å¼€å‘è¯­è¨€ã€‚
*   **Xcode**: ç”¨äºå¼€å‘å’Œè¿è¡Œæµ‹è¯•ã€‚
*   **Quick**: ç”¨äºæ„å»º BDD æµ‹è¯•ç»“æ„ã€‚
*   **Nimble**: ç”¨äºç¼–å†™å¯è¯»æ€§å¼ºçš„æ–­è¨€ã€‚
*   **Swift Package Manager (SPM)**: ç”¨äºç®¡ç† Quick å’Œ Nimble è¿™ä¸¤ä¸ªç¬¬ä¸‰æ–¹ä¾èµ–ã€‚

## ğŸš€ å¦‚ä½•å¼€å§‹

### å‡†å¤‡å·¥ä½œ

*   ç¡®ä¿æ‚¨å·²å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Xcodeã€‚
*   æœ¬é¡¹ç›®ä½¿ç”¨ Swift Package Managerï¼Œä¾èµ–é¡¹ä¼šåœ¨ Xcode ä¸­è‡ªåŠ¨ä¸‹è½½å’Œé“¾æ¥ã€‚

### è¿è¡Œé¡¹ç›®

1.  å…‹éš†æœ¬ä»“åº“åˆ°æ‚¨çš„æœ¬åœ°ç”µè„‘ï¼š
    ```bash
    git clone [æ‚¨çš„ä»“åº“HTTPSé“¾æ¥]
    ```
2.  ä½¿ç”¨ Xcode æ‰“å¼€é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `.xcodeproj` æ–‡ä»¶ã€‚
3.  Xcode ä¼šè‡ªåŠ¨è§£æå¹¶ä¸‹è½½ `Quick` å’Œ `Nimble` ä¾èµ–åŒ…ã€‚æ‚¨å¯ä»¥åœ¨å·¦ä¾§çš„æ–‡ä»¶å¯¼èˆªå™¨ä¸­çœ‹åˆ° `Package Dependencies` ç›®å½•ã€‚

## âœ… è¿è¡Œæµ‹è¯•

è¿™æ˜¯æœ¬é¡¹ç›®çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚

1.  åœ¨ Xcode ä¸­ï¼Œæ‰“å¼€æµ‹è¯•å¯¼èˆªå™¨ (å·¦ä¾§é¢æ¿çš„è±å½¢å›¾æ ‡)ã€‚
2.  æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»»ä¸€æ–¹å¼è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼š
    *   ä½¿ç”¨å¿«æ·é”® **`Cmd + U` (âŒ˜U)**ã€‚
    *   ç‚¹å‡»é¡¶éƒ¨èœå•æ  `Product` -> `Test`ã€‚
3.  æ‚¨ä¹Ÿå¯ä»¥åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­ï¼Œç‚¹å‡» `ShoppingCartSpec.swift` æ–‡ä»¶é‡Œ `describe` æˆ– `it` æ—è¾¹çš„è±å½¢æ’­æ”¾æŒ‰é’®ï¼Œæ¥å•ç‹¬è¿è¡ŒæŸä¸ªæµ‹è¯•å¥—ä»¶æˆ–å•ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚

å½“æ‰€æœ‰æµ‹è¯•é€šè¿‡æ—¶ï¼Œæ‚¨ä¼šåœ¨ Xcode ä¸­çœ‹åˆ°ç»¿è‰²çš„å¯¹å‹¾æ ‡è®°ï¼Œä»¥åŠ "Test Succeeded" çš„æç¤ºã€‚

## ğŸ“„ ä»£ç ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ `ShoppingCartSpec.swift` ä¸­çš„ä¸€ä¸ªç‰‡æ®µï¼Œå±•ç¤ºäº† Quick å’Œ Nimble å¦‚ä½•è®©æµ‹è¯•å˜å¾—æ¸…æ™°æ˜“è¯»ï¼š

```swift
import Quick
import Nimble
@testable import BDDCompleteFlow // æ›¿æ¢ä¸ºæ‚¨çš„é¡¹ç›®åç§°

class ShoppingCartSpec: QuickSpec {
    override class func spec() {
        describe("è´­ç‰©è½¦") {
            var cart: ShoppingCart!
            let apple = Product(name: "è‹¹æœ", price: 5.0)
            let orange = Product(name: "æ©™å­", price: 7.0)

            beforeEach {
                cart = ShoppingCart()
                cart.add(apple)
                cart.add(orange)
            }

            context("å½“ä»è´­ç‰©è½¦ç§»é™¤å•†å“æ—¶") {
                beforeEach {
                    cart.remove(apple)
                }

                it("ä¸åº”å†åŒ…å«è¢«ç§»é™¤çš„å•†å“") {
                    expect(cart.items.contains(where: { $0.name == apple.name })).to(beFalse())
                }

                it("å•†å“æ•°é‡åº”è¯¥å‡å°‘") {
                    expect(cart.itemCount).to(equal(1))
                }

                it("åº”è¯¥ä»ç„¶åŒ…å«å…¶ä»–å•†å“") {
                    expect(cart.items.contains(where: { $0.name == orange.name })).to(beTrue())
                }

                it("æ€»ä»·æ ¼åº”è¯¥æ›´æ–°") {
                    expect(cart.totalPrice).to(equal(orange.price))
                }
            }
        }
    }
}
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](https://opensource.org/licenses/MIT)ã€‚
